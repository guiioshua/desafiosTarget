4)
A) 9
B) 128
C) 49
D) 100
E) 13
F) 20???

5)
Uma opção seria ligar duas lâmpadas aleatórias. Então, eu iria numa sala também aleatória. A partir daí tenho dois cenários:
Primeiro: A sala que eu fui está com luz desligada: já tenho a certeza de uma lâmpada, que ela se refere ao único interruptor que não liguei. Então, basta que eu apague uma das duas que eu liguei e ir em alguma das duas salas que ainda não tinha ido. Se a lâmpada estiver acesa, consigo ter certeza de que ela se refere ao único interruptor ligado. Se estiver desligada, sei que é justamente a que desliguei no segundo passo e também teria certeza da segunda lâmpada. A terceira  equivalência seria implícita e óbvia.
Segundo: a sala que eu fui está com a luz ligada: posso apagar as duas salas e acender somente a que sobrou. ao entrar na próxima sala, se estiver acesa, sei qual se refere à ultima a ser ligada, e tenho 50% de chance de acertar a qual interruptor se referem cada uma  das duas primeiras lâmpadas. Embora essa solução não seja perfeita, foi a melhor que consegui imaginar.

Há também a opção que vi pesquisando na internet, que envolve usar a temperatura de uma lâmpada acesa por bastante tempo e outra recém acesa/apagada para descobrir a qual se refere cada interruptor. Entretanto esse raciocínio não é meu, e não sei da assertividade dele se as lâmpadas forem de LED.
